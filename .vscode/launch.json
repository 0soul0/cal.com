// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Next.js Dev (via NPM Script)",
      
      // 步驟 1: 更改 runtimeExecutable 為 npm 或 yarn
      "runtimeExecutable": "npm", // 或 "yarn"
      
      // 步驟 2: 傳入 npm run dev 命令
      "runtimeArgs": ["run", "dev"], 
      
      // 步驟 3: 確保 NODE_OPTIONS 依然開啟偵錯
      "env": {
        "NODE_OPTIONS": "--inspect" 
      },
      
      // 步驟 4: cwd 必須指向 package.json 檔案所在的目錄 (apps/web)
      "cwd": "${workspaceFolder}/apps/web",
      
      "console": "integratedTerminal",
      // 其他 Source Map 配置保留不變
      "sourceMapPathOverrides": {
        "meteor://💻app/*": "${workspaceFolder}/*",
        "webpack:///./~/*": "${workspaceFolder}/node_modules/*",
        "webpack://?:*/*": "${workspaceFolder}/*"
      }
    }
  ]
}